[loggers]
keys = root,sbws

[handlers]
keys = sbwsdefault,sbwsdebug,sbwsfile

[formatters]
keys = sbwsdefault,sbwsdebug,sbwssys

[logger_root]
level = WARNING
handlers = sbwsdefault
propagate = 1
qualname=root

[logger_sbws]
level = INFO
# add here sbwssys for also logging to system log
handlers = sbwsdefault,sbwsfile
propagate = 0
qualname=sbws

[handler_sbwsdefault]
class = StreamHandler
formatter = sbwsdefault
args = (sys.stdout,)

[formatter_sbwsdefault]
format =  [%(asctime)s] [%(name)s] [%(levelname)s] %(message)s

# this is not needed, but here to do not modify sbwsdefault
[handler_sbwsdebug]
class = StreamHandler
formatter = sbwsdebug
args = (sys.stdout,)
level = DEBUG

# verbose formatter useful for debugging
[formatter_sbwsdebug]
format = %(asctime)s %(levelname)s %(threadName)s %(filename)s:%(lineno)s - %(funcName)s - %(message)s
datefmt = %Y-%m-%d %H:%M:%S

# for logging to system log
[handler_sbwssys]
class=handlers.SysLogHandler
formatter=sbwssys
level = INFO

# syslog-like formater
[formatter_sbwssys]
# hostname should be added here with a context filter, dunno if there is a way
# to add it here
format = %(asctime)s %(module)s[%(process)s]: <%(levelname)s> %(message)s
datefmt = %b %d %H:%M:%S

[handler_sbwsfile]
class = handlers.RotatingFileHandler
formatter = sbwssys
# There doesn't seem to be a way to put ${paths:log_filepath} here since the
# logging library eval()s this, which doesn't give the ini parsing library a
# chance to replace the text. So we do it in configure_logging() in
# sbws/util/config.py instead.
args = ('/nonexist',)
