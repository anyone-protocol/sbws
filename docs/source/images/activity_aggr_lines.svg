<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1285px" preserveAspectRatio="none" style="width:754px;height:1285px;" version="1.1" viewBox="0 0 754 1285" width="754px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dflwv7yky46f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="730" x="12" y="26.708">Activity diagram sbws results exclusion and aggregation (V3BWLine.from_results)</text><ellipse cx="391.25" cy="40.9531" fill="#000000" filter="url(#f1dflwv7yky46f)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="331.25" y="70.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="341.25" y="92.0918">success_results</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="296.75" y="173.3242"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="306.75" y="194.4629">return (, exclusion_reason)</text><ellipse cx="391.25" cy="244.8086" fill="none" filter="url(#f1dflwv7yky46f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="391.75" cy="245.3086" fill="#000000" filter="url(#f1dflwv7yky46f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1dflwv7yky46f)" points="330.75,124.9219,451.75,124.9219,463.75,136.9219,451.75,148.9219,330.75,148.9219,318.75,136.9219,330.75,124.9219" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="395.25" y="159.1323">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="330.75" y="140.73">not success_results?</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="341.25" y="296.8086"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="351.25" y="317.9473">results_away</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="296.75" y="399.1797"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="306.75" y="420.3184">return (, exclusion_reason)</text><ellipse cx="391.25" cy="470.6641" fill="none" filter="url(#f1dflwv7yky46f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="391.75" cy="471.1641" fill="#000000" filter="url(#f1dflwv7yky46f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1dflwv7yky46f)" points="339.75,350.7773,442.75,350.7773,454.75,362.7773,442.75,374.7773,339.75,374.7773,327.75,362.7773,339.75,350.7773" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="395.25" y="384.9878">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="339.75" y="366.5854">not results_away?</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="336.25" y="522.6641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="346.25" y="543.8027">results_recent</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="296.75" y="625.0352"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="306.75" y="646.1738">return (, exclusion_reason)</text><ellipse cx="391.25" cy="696.5195" fill="none" filter="url(#f1dflwv7yky46f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="391.75" cy="697.0195" fill="#000000" filter="url(#f1dflwv7yky46f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1dflwv7yky46f)" points="336.25,576.6328,446.25,576.6328,458.25,588.6328,446.25,600.6328,336.25,600.6328,324.25,588.6328,336.25,576.6328" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="395.25" y="610.8433">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="336.25" y="592.4409">not results_recent?</text><polygon fill="#FEFECE" filter="url(#f1dflwv7yky46f)" points="305.25,748.5195,477.25,748.5195,489.25,760.5195,477.25,772.5195,305.25,772.5195,293.25,760.5195,305.25,748.5195" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="305.25" y="764.3276">node_id in router_statuses_d?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="273.25" y="757.9253">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="489.25" y="757.9253">no</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="293" x="102" y="782.5195"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="273" x="112" y="803.6582">consensus_bandwidth from router statuses</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="238" x="415" y="782.5195"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="218" x="425" y="803.6582">consensus_bandwidth from results</text><polygon fill="#FEFECE" filter="url(#f1dflwv7yky46f)" points="391.25,822.4883,403.25,834.4883,391.25,846.4883,379.25,834.4883,391.25,822.4883" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="355.25" y="866.4883"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="365.25" y="887.627">obs_last</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="282" x="250.25" y="968.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="262" x="260.25" y="989.998">return(cls(node_id, 1), "no_observed_bw")</text><ellipse cx="391.25" cy="1040.3438" fill="none" filter="url(#f1dflwv7yky46f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="391.75" cy="1040.8438" fill="#000000" filter="url(#f1dflwv7yky46f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1dflwv7yky46f)" points="340.75,920.457,441.75,920.457,453.75,932.457,441.75,944.457,340.75,944.457,328.75,932.457,340.75,920.457" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="395.25" y="954.6675">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="340.75" y="936.2651">obs_last is None?</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="37" x="372.75" y="1092.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="382.75" y="1113.4824">bw</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="348.25" y="1146.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="358.25" y="1167.4512">kwargs[...]</text><rect fill="#FEFECE" filter="url(#f1dflwv7yky46f)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="265.25" y="1200.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="232" x="275.25" y="1221.4199">return (node_id, bw, **kwargs), None</text><ellipse cx="391.25" cy="1264.25" fill="none" filter="url(#f1dflwv7yky46f)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="391.75" cy="1264.75" fill="#000000" filter="url(#f1dflwv7yky46f)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="387.25,60.9531,391.25,70.9531,395.25,60.9531,391.25,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="207.293" y2="234.8086"/><polygon fill="#A80036" points="387.25,224.8086,391.25,234.8086,395.25,224.8086,391.25,228.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="148.9219" y2="173.3242"/><polygon fill="#A80036" points="387.25,163.3242,391.25,173.3242,395.25,163.3242,391.25,167.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="463.75" x2="495.75" y1="136.9219" y2="136.9219"/><polygon fill="#A80036" points="491.75,204.8086,495.75,214.8086,499.75,204.8086,495.75,208.8086" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="495.75" x2="495.75" y1="136.9219" y2="276.8086"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="495.75" x2="391.25" y1="276.8086" y2="276.8086"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="276.8086" y2="296.8086"/><polygon fill="#A80036" points="387.25,286.8086,391.25,296.8086,395.25,286.8086,391.25,290.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="104.9219" y2="124.9219"/><polygon fill="#A80036" points="387.25,114.9219,391.25,124.9219,395.25,114.9219,391.25,118.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="433.1484" y2="460.6641"/><polygon fill="#A80036" points="387.25,450.6641,391.25,460.6641,395.25,450.6641,391.25,454.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="374.7773" y2="399.1797"/><polygon fill="#A80036" points="387.25,389.1797,391.25,399.1797,395.25,389.1797,391.25,393.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="454.75" x2="495.75" y1="362.7773" y2="362.7773"/><polygon fill="#A80036" points="491.75,430.6641,495.75,440.6641,499.75,430.6641,495.75,434.6641" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="495.75" x2="495.75" y1="362.7773" y2="502.6641"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="495.75" x2="391.25" y1="502.6641" y2="502.6641"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="502.6641" y2="522.6641"/><polygon fill="#A80036" points="387.25,512.6641,391.25,522.6641,395.25,512.6641,391.25,516.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="330.7773" y2="350.7773"/><polygon fill="#A80036" points="387.25,340.7773,391.25,350.7773,395.25,340.7773,391.25,344.7773" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="659.0039" y2="686.5195"/><polygon fill="#A80036" points="387.25,676.5195,391.25,686.5195,395.25,676.5195,391.25,680.5195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="600.6328" y2="625.0352"/><polygon fill="#A80036" points="387.25,615.0352,391.25,625.0352,395.25,615.0352,391.25,619.0352" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="458.25" x2="495.75" y1="588.6328" y2="588.6328"/><polygon fill="#A80036" points="491.75,656.5195,495.75,666.5195,499.75,656.5195,495.75,660.5195" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="495.75" x2="495.75" y1="588.6328" y2="728.5195"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="495.75" x2="391.25" y1="728.5195" y2="728.5195"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="728.5195" y2="748.5195"/><polygon fill="#A80036" points="387.25,738.5195,391.25,748.5195,395.25,738.5195,391.25,742.5195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="556.6328" y2="576.6328"/><polygon fill="#A80036" points="387.25,566.6328,391.25,576.6328,395.25,566.6328,391.25,570.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="293.25" x2="248.5" y1="760.5195" y2="760.5195"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="248.5" x2="248.5" y1="760.5195" y2="782.5195"/><polygon fill="#A80036" points="244.5,772.5195,248.5,782.5195,252.5,772.5195,248.5,776.5195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="489.25" x2="534" y1="760.5195" y2="760.5195"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="534" y1="760.5195" y2="782.5195"/><polygon fill="#A80036" points="530,772.5195,534,782.5195,538,772.5195,534,776.5195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="248.5" x2="248.5" y1="816.4883" y2="834.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="248.5" x2="379.25" y1="834.4883" y2="834.4883"/><polygon fill="#A80036" points="369.25,830.4883,379.25,834.4883,369.25,838.4883,373.25,834.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="534" y1="816.4883" y2="834.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="534" x2="403.25" y1="834.4883" y2="834.4883"/><polygon fill="#A80036" points="413.25,830.4883,403.25,834.4883,413.25,838.4883,409.25,834.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="846.4883" y2="866.4883"/><polygon fill="#A80036" points="387.25,856.4883,391.25,866.4883,395.25,856.4883,391.25,860.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="1002.8281" y2="1030.3438"/><polygon fill="#A80036" points="387.25,1020.3438,391.25,1030.3438,395.25,1020.3438,391.25,1024.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="944.457" y2="968.8594"/><polygon fill="#A80036" points="387.25,958.8594,391.25,968.8594,395.25,958.8594,391.25,962.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="453.75" x2="542.25" y1="932.457" y2="932.457"/><polygon fill="#A80036" points="538.25,1000.3438,542.25,1010.3438,546.25,1000.3438,542.25,1004.3438" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="542.25" x2="542.25" y1="932.457" y2="1072.3438"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="542.25" x2="391.25" y1="1072.3438" y2="1072.3438"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="1072.3438" y2="1092.3438"/><polygon fill="#A80036" points="387.25,1082.3438,391.25,1092.3438,395.25,1082.3438,391.25,1086.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="900.457" y2="920.457"/><polygon fill="#A80036" points="387.25,910.457,391.25,920.457,395.25,910.457,391.25,914.457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="1126.3125" y2="1146.3125"/><polygon fill="#A80036" points="387.25,1136.3125,391.25,1146.3125,395.25,1136.3125,391.25,1140.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="1180.2813" y2="1200.2813"/><polygon fill="#A80036" points="387.25,1190.2813,391.25,1200.2813,395.25,1190.2813,391.25,1194.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391.25" x2="391.25" y1="1234.25" y2="1254.25"/><polygon fill="#A80036" points="387.25,1244.25,391.25,1254.25,395.25,1244.25,391.25,1248.25" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

title Activity diagram sbws results exclusion and aggregation (V3BWLine.from_results)

start
:success_results;
if (not success_results?) then (yes)
    :return (, exclusion_reason);
    stop
endif
:results_away;
if (not results_away?) then (yes)
    :return (, exclusion_reason);
    stop
endif
:results_recent;
if (not results_recent?) then (yes)
    :return (, exclusion_reason);
    stop
endif
if (node_id in router_statuses_d?) then (yes)
    :consensus_bandwidth from router statuses;
else (no)
    :consensus_bandwidth from results;
endif
:obs_last;
if (obs_last is None?) then (yes)
    :return(cls(node_id, 1), "no_observed_bw");
    stop
endif
:bw;
:kwargs[...];
:return (node_id, bw, **kwargs), None;
stop

@enduml

PlantUML version 1.2018.13(Mon Nov 26 17:11:51 UTC 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.11+9-post-Debian-1deb10u1
Operating System: Linux
OS Version: 4.19.0-16-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
